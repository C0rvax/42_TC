<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inception Project Checklist</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <h1>Inception Project Checklist</h1>
        <p>Track your progress with style!</p>
    </header>

    <nav>
        <a href="#container-services">Container Services</a>
        <a href="#volumes">Volumes</a>
        <a href="#network">Network</a>
        <a href="#security">Security</a>
        <a href="#bonus">Bonus</a>
    </nav>

    <main>
        <section id="container-services">
            <h2>1. Container Services (Mandatory)</h2>
            <h3>NGINX</h3>
            <ul>
                <li>
                    <input type="checkbox" id="nginx-running">
                    <label for="nginx-running">
                        Nginx container is running -> 
                        <code id="code-nginx-running">docker ps -a</code>
                        <button onclick="copyToClipboard('code-nginx-running')">ðŸ“‹</button>
                    </label>
                </li>
                <li><input type="checkbox" id="nginx-access"><label for="nginx-access">Access via <a href="https://aduvilla.42.fr" target="_blank">https://aduvilla.42.fr</a> and <a href="https://127.0.0.1" target="_blank">https://127.0.0.1</a> works.</label></li>
                <li><input type="checkbox" id="nginx-port443"><label for="nginx-port443">Only port 443 is exposed on the host for Nginx. Access via <a href="http://aduvilla.42.fr" target="_blank">http://aduvilla.42.fr</a> fails or redirects.</label></li>
                <li>
                    <input type="checkbox" id="nginx-tls"><label for="nginx-tls">TLSv1.2 or TLSv1.3 only:</label>
                    <ul>
                        <li>
                            <code id="code-tls-fail">curl -v --tlsv1.1 --tls-max 1.1 https://aduvilla.42.fr</code>
                            <button onclick="copyToClipboard('code-tls-fail')">ðŸ“‹</button> -> Fails
                        </li>
                        <li>
                            <code id="code-tls-success">curl -v --tlsv1.3 --tls-max 1.3 https://aduvilla.42.fr</code>
                            <button onclick="copyToClipboard('code-tls-success')">ðŸ“‹</button> -> Succeeds
                        </li>
                    </ul>
                </li>
                <li>
                    <input type="checkbox" id="nginx-entrypoint"><label for="nginx-entrypoint">Nginx is the only entry point to the infrastructure from the outside:</label>
                    <ul>
                        <li>Check Nginx HTTPS (443): <code id="code-nginx-https">nc -zv localhost 443</code> <button onclick="copyToClipboard('code-nginx-https')">ðŸ“‹</button></li>
                        <li>Check Redis port: <code id="code-redis-port">nc -zv localhost 6379</code> <button onclick="copyToClipboard('code-redis-port')">ðŸ“‹</button></li>
                        <li>Check MariaDB port: <code id="code-mariadb-port">nc -zv localhost 3306</code> <button onclick="copyToClipboard('code-mariadb-port')">ðŸ“‹</button></li>   
                        <li>Check Nginx HTTP (80): <code id="code-nginx-http">nc -zv localhost 80</code> <button onclick="copyToClipboard('code-nginx-http')">ðŸ“‹</button></li>
                        <li>Check PHP-FPM (9000): <code id="code-phpfpm-port">nc -zv localhost 9000</code> <button onclick="copyToClipboard('code-phpfpm-port')">ðŸ“‹</button></li>
                    </ul>
                </li>
            </ul>
            <h3>WordPress</h3>
            <ul>
                <li>
                    <input type="checkbox" id="wp-running">
                    <label for="wp-running">
                        WordPress container is running -> 
                        <code id="code-wp-running">docker ps -a</code>
                        <button onclick="copyToClipboard('code-wp-running')">ðŸ“‹</button>
                    </label>
                </li>
                <li><input type="checkbox" id="wp-phpfpm"><label for="wp-phpfpm">Contains only PHP-FPM (no Nginx/Apache). Verify with <code id="code-wp-phpfpm">make ps</code> <button onclick="copyToClipboard('code-wp-phpfpm')">ðŸ“‹</button> (docker exec [container] ps aux).</label></li>
                <li><input type="checkbox" id="wp-install"><label for="wp-install">WordPress site is installed and accessible via Nginx.</label></li>
                <li>
                    <input type="checkbox" id="wp-users"><label for="wp-users">WordPress users <a href="https://aduvilla.42.fr/wp-admin/users.php" target="_blank">https://aduvilla.42.fr/wp-admin/users.php</a></label>
                    <ul>
                        <li>At least 2 users exist.</li>
                        <li>One user is an Administrator.</li>
                        <li>The admin's name does NOT contain 'admin', 'Admin', 'administrator', 'Administrator'.</li>
                    </ul>
                </li>
            </ul>
            <h3>MariaDB</h3>
            <ul>
                <li>
                    <input type="checkbox" id="db-running">
                    <label for="db-running">
                        MariaDB container is running -> 
                        <code id="code-db-running">docker ps -a</code>
                        <button onclick="copyToClipboard('code-db-running')">ðŸ“‹</button>
                    </label>
                </li>
                <li><input type="checkbox" id="db-only"><label for="db-only">Contains only MariaDB (no Nginx/Apache). Verify with <code id="code-db-only">make ps</code> <button onclick="copyToClipboard('code-db-only')">ðŸ“‹</button> (docker exec [container] ps aux).</label></li>
                <li><input type="checkbox" id="db-connect"><label for="db-connect">WordPress can connect to the database (the site works).</label></li>
                <li>
                    <input type="checkbox" id="db-tests"><label for="db-tests">Test MariaDB connection and display WordPress users:</label>
                    <ul>
                        <li><code id="code-db-connect">docker exec -it mariadb mysql -u root -p</code> <button onclick="copyToClipboard('code-db-connect')">ðŸ“‹</button> -> Connect to MariaDB.</li>
                        <li><code id="code-db-use">USE wordpress_db;</code> <button onclick="copyToClipboard('code-db-use')">ðŸ“‹</button> -> Select the WordPress database.</li>
                        <li><code id="code-db-select">SELECT * FROM wp_users;</code> <button onclick="copyToClipboard('code-db-select')">ðŸ“‹</button> -> Display all WordPress users.</li>
                    </ul>
                </li>
            </ul>
        </section>

        <section id="volumes">
            <h2>2. Volumes</h2>
            <ul>
                <li><input type="checkbox" id="vol-ls"><label for="vol-ls">Two volumes exist : one for DB, one for WP files -> <code id="code-vol-ls">docker volume ls</code> <button onclick="copyToClipboard('code-vol-ls')">ðŸ“‹</button></label></li>
                <li><input type="checkbox" id="vol-persist"><label for="vol-persist">Persistence: Create a WP post -> <code id="code-vol-down">make down</code> <button onclick="copyToClipboard('code-vol-down')">ðŸ“‹</button> -> <code id="code-vol-up">make up</code> <button onclick="copyToClipboard('code-vol-up')">ðŸ“‹</button> -> The post is still there.</label></li>
            </ul>
        </section>

        <section id="network">
            <h2>3. Network</h2>
            <ul>
                <li><input type="checkbox" id="net-ls"><label for="net-ls">A custom Docker network exists -> <code id="code-net-ls">docker network ls</code> <button onclick="copyToClipboard('code-net-ls')">ðŸ“‹</button></label></li>
                <li><input type="checkbox" id="net-inspect"><label for="net-inspect">Containers (Nginx, WP, DB, Bonus) are connected to this network -> <code id="code-net-inspect">docker network inspect inception</code> <button onclick="copyToClipboard('code-net-inspect')">ðŸ“‹</button></label></li>
            </ul>
        </section>

        <section id="security">
            <h2>4. Security & Best Practices</h2>
            <ul>
                <li><input type="checkbox" id="sec-restart"><label for="sec-restart">Restart policy (<code id="code-sec-restart">always</code> <button onclick="copyToClipboard('code-sec-restart')">ðŸ“‹</button> or <code id="code-sec-unless-stopped">unless-stopped</code> <button onclick="copyToClipboard('code-sec-unless-stopped')">ðŸ“‹</button>) configured for main containers. Test with <code id="code-sec-kill">docker kill [container]</code> <button onclick="copyToClipboard('code-sec-kill')">ðŸ“‹</button>.</label></li>
                <li><input type="checkbox" id="sec-pid1"><label for="sec-pid1">Verify that PID 1 in each container is correct. Test with:<code id="code-sec-ps">make ps</code> <button onclick="copyToClipboard('code-sec-ps')">ðŸ“‹</button></label></li>
            </ul>
        </section>

        <section id="bonus">
            <h2>5. Bonus (If Implemented)</h2>
            <h3>Redis Cache</h3>
            <ul>
                <li><input type="checkbox" id="bonus-redis-run"><label for="bonus-redis-run">Redis container is running.</label></li>
                <li><input type="checkbox" id="bonus-redis-wp"><label for="bonus-redis-wp">Connected and activated in WP Admin (Settings -> Redis -> Status: Connected).</label></li>
                <li><input type="checkbox" id="bonus-redis-cli"><label for="bonus-redis-cli">Test Redis commands:</label>
                    <ul>
                        <li><code id="code-redis-cli-connect">docker exec -it redis redis-cli</code> <button onclick="copyToClipboard('code-redis-cli-connect')">ðŸ“‹</button> -> Connect to Redis CLI</li>
                        <li><code id="code-redis-auth">AUTH [redis_pwd]</code> <button onclick="copyToClipboard('code-redis-auth')">ðŸ“‹</button> -> Authenticate with password</li>
                        <li><code id="code-redis-monitor">MONITOR</code> <button onclick="copyToClipboard('code-redis-monitor')">ðŸ“‹</button> -> Monitor Redis activity</li>
                    </ul>
                </li>
            </ul>
            <h3>FTP Server</h3>
            <ul>
                <li><input type="checkbox" id="bonus-ftp-run"><label for="bonus-ftp-run">FTP container is running.</label></li>
                <li><input type="checkbox" id="bonus-ftp-rw"><label for="bonus-ftp-rw">File operations (Upload/Download/List) work:</label>
                    <ul>
                        <li><code id="code-ftp-connect">lftp -u [username] localhost</code> <button onclick="copyToClipboard('code-ftp-connect')">ðŸ“‹</button> -> Connect to the FTP server</li>
                        <li><code id="code-ftp-disable-cert">set ssl:verify-certificate no</code> <button onclick="copyToClipboard('code-ftp-disable-cert')">ðŸ“‹</button> -> Disable verify certificate</li>
                        <li><code id="code-ftp-list">ls</code> <button onclick="copyToClipboard('code-ftp-list')">ðŸ“‹</button> -> List files</li>
                        <li><code id="code-ftp-upload">put testfile.txt</code> <button onclick="copyToClipboard('code-ftp-upload')">ðŸ“‹</button> -> Upload a file</li>
                        <li><code id="code-ftp-download">get testfile.txt</code> <button onclick="copyToClipboard('code-ftp-download')">ðŸ“‹</button> -> Download a file</li>
                        <li><code id="code-ftp-exit">bye</code> <button onclick="copyToClipboard('code-ftp-exit')">ðŸ“‹</button> -> Exit the session</li>
                    </ul>
                </li>
            </ul>
            <h3>Adminer</h3>
            <ul>
                <li><input type="checkbox" id="bonus-adminer-run"><label for="bonus-adminer-run">Adminer container is running.</label></li>
                <li><input type="checkbox" id="bonus-adminer-access"><label for="bonus-adminer-access">Adminer interface accessible -> <a href="http://localhost:8081" target="_blank">http://localhost:8081</a></label></li>
                <li><input type="checkbox" id="bonus-adminer-connect"><label for="bonus-adminer-connect">Connection to MariaDB via Adminer succeeds (Server: <code id="code-adminer-server">mariadb</code> <button onclick="copyToClipboard('code-adminer-server')">ðŸ“‹</button>, user/pass from env/secrets).</label></li>
                <li><input type="checkbox" id="bonus-adminer-tables"><label for="bonus-adminer-tables">WordPress tables can be viewed.</label></li>
            </ul>
            <h3>This Site</h3>
            <ul>
                <li><input type="checkbox" id="bonus-checklist-run"><label for="bonus-checklist-run">Container for this static site is running.</label></li>
                <li><input type="checkbox" id="bonus-checklist-nophp"><label for="bonus-checklist-nophp">This site does not use PHP.</label></li>
            </ul>
            <h3>Other Useful Service</h3>
            <ul>
                <li><input type="checkbox" id="bonus-other-run"><label for="bonus-other-run">Service container is running.</label></li>
                <li><input type="checkbox" id="bonus-other-justification"><label for="bonus-other-justification">Justification of its usefulness is ready for the defense.</label></li>
                <li><input type="checkbox" id="bonus-other-functional"><label for="bonus-other-functional">The service is functional and tested.</label></li>
            </ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 Inception Project. All rights reserved.</p>
    </footer>

    <div id="copy-success" class="copy-success">Copied to clipboard!</div>

    <script>
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text).then(() => {
                const successMessage = document.getElementById('copy-success');
                successMessage.classList.add('show');
                setTimeout(() => {
                    successMessage.classList.remove('show');
                }, 2000); // Hide after 2 seconds
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }
    </script>

</body>
</html>
